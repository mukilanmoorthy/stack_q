"use strict";(self.webpackChunkyour_docs=self.webpackChunkyour_docs||[]).push([[500],{3298:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"storage-supabase","title":"storage-supabase","description":"Got it, Mukilan! Here\'s the full .md file content for your Docusaurus documentation, named supabase-storage.md, written clearly and simply without extras like links or navigation text at the end.","source":"@site/docs/storage-supabase.md","sourceDirName":".","slug":"/storage-supabase","permalink":"/stack_q/storage-supabase","draft":false,"unlisted":false,"editUrl":"https://github.com/mukilanmoorthy/stack_q/edit/main/your-docs/docs/storage-supabase.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"router","permalink":"/stack_q/router"}}');var a=r(4848),t=r(8453);const i={},o=void 0,l={},d=[{value:"\u2705 Save this as: <code>your-docs/docs/supabase-storage.md</code>",id:"-save-this-as-your-docsdocssupabase-storagemd",level:3},{value:"<code>profiles</code> table",id:"profiles-table",level:3},{value:"\ud83d\uddbc\ufe0f Supabase Storage (Image Uploads)",id:"\ufe0f-supabase-storage-image-uploads",level:2},{value:"Upload example",id:"upload-example",level:3},{value:"\ud83d\udd10 Firebase UID in Supabase",id:"-firebase-uid-in-supabase",level:2},{value:"\u2705 Summary",id:"-summary",level:2}];function c(e){const s={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:["Got it, Mukilan! Here's the ",(0,a.jsxs)(s.strong,{children:["full ",(0,a.jsx)(s.code,{children:".md"})," file content"]})," for your Docusaurus documentation, named ",(0,a.jsx)(s.code,{children:"supabase-storage.md"}),", written clearly and simply without extras like links or navigation text at the end."]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsxs)(s.h3,{id:"-save-this-as-your-docsdocssupabase-storagemd",children:["\u2705 Save this as: ",(0,a.jsx)(s.code,{children:"your-docs/docs/supabase-storage.md"})]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-md",children:"---\r\nsidebar_position: 4\r\nsidebar_label: 'Supabase Storage'\r\n---\r\n\r\n# \ud83d\uddc2\ufe0f Supabase in Stackquae (for Data & Storage)\r\n\r\nStackquae uses two services to manage backend logic:\r\n\r\n- \ud83d\udd10 **Firebase** \u2192 handles user authentication (login with Google)\r\n- \ud83d\udce6 **Supabase** \u2192 stores blog posts, user profiles, and images\r\n\r\nThis makes it easy to build faster and more securely.\r\n\r\n---\r\n\r\n## \ud83d\udd17 How Firebase and Supabase Work Together\r\n\r\n1. A user logs in using **Firebase Google Sign-In**\r\n2. The user's **UID** from Firebase is used to identify them in Supabase\r\n3. We save all user-related data (blogs, profile info) in Supabase using that UID\r\n4. We upload blog cover images and profile pictures to **Supabase Storage**\r\n\r\n---\r\n\r\n## \ud83d\udcc4 Supabase Tables\r\n\r\n### `posts` table\r\n\r\nStores blog content:\r\n\r\n```sql\r\nCREATE TABLE posts (\r\n  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),\r\n  title TEXT,\r\n  content TEXT,\r\n  cover_url TEXT,\r\n  author_uid TEXT,\r\n  is_draft BOOLEAN DEFAULT TRUE,\r\n  created_at TIMESTAMP DEFAULT NOW()\r\n);\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"id"}),": unique blog post ID"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"title"}),": post title"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"content"}),": post body"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"cover_url"}),": URL of the blog cover image"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"author_uid"}),": Firebase UID of the blog author"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"is_draft"}),": true = saved, false = published"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"created_at"}),": when the blog was created"]}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsxs)(s.h3,{id:"profiles-table",children:[(0,a.jsx)(s.code,{children:"profiles"})," table"]}),"\n",(0,a.jsx)(s.p,{children:"Stores user info:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sql",children:"CREATE TABLE profiles (\r\n  id TEXT PRIMARY KEY,\r\n  name TEXT,\r\n  bio TEXT,\r\n  avatar_url TEXT\r\n);\n"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"id"}),": Firebase UID"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"name"}),": user's name"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"bio"}),": short user description"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"avatar_url"}),": link to profile image"]}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"\ufe0f-supabase-storage-image-uploads",children:"\ud83d\uddbc\ufe0f Supabase Storage (Image Uploads)"}),"\n",(0,a.jsxs)(s.p,{children:["Images are saved in a bucket named ",(0,a.jsx)(s.code,{children:"images"}),"."]}),"\n",(0,a.jsx)(s.p,{children:"Folder structure:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"images/\r\n \u2523 blog-covers/\r\n \u2503 \u2517 post-id.jpg\r\n \u2523 profile-avatars/\r\n \u2503 \u2517 user-uid.jpg\n"})}),"\n",(0,a.jsx)(s.h3,{id:"upload-example",children:"Upload example"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-js",children:'await supabase.storage\r\n  .from("images")\r\n  .upload(`blog-covers/${postId}.jpg`, file, {\r\n    upsert: true,\r\n  });\r\n\r\nconst { data } = supabase\r\n  .storage\r\n  .from("images")\r\n  .getPublicUrl(`blog-covers/${postId}.jpg`);\n'})}),"\n",(0,a.jsxs)(s.p,{children:["You can store this ",(0,a.jsx)(s.code,{children:"publicUrl"})," in your Supabase ",(0,a.jsx)(s.code,{children:"posts"})," table."]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-firebase-uid-in-supabase",children:"\ud83d\udd10 Firebase UID in Supabase"}),"\n",(0,a.jsx)(s.p,{children:"After Firebase login:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-js",children:'const user = auth.currentUser;\r\n\r\nawait supabase.from("profiles").upsert({\r\n  id: user.uid,\r\n  name: user.displayName,\r\n  bio: "",\r\n  avatar_url: user.photoURL\r\n});\n'})}),"\n",(0,a.jsxs)(s.p,{children:["We use ",(0,a.jsx)(s.code,{children:"user.uid"})," to link Firebase and Supabase together."]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-summary",children:"\u2705 Summary"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Feature"}),(0,a.jsx)(s.th,{children:"Tool Used"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Login/Auth"}),(0,a.jsx)(s.td,{children:"Firebase Auth"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Blog Posts"}),(0,a.jsx)(s.td,{children:"Supabase"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"User Profiles"}),(0,a.jsx)(s.td,{children:"Supabase"})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:"Image Uploads"}),(0,a.jsx)(s.td,{children:"Supabase Storage"})]})]})]}),"\n",(0,a.jsx)(s.p,{children:"This setup keeps login simple and data management powerful."})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>o});var n=r(6540);const a={},t=n.createContext(a);function i(e){const s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);